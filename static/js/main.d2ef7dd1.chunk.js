(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{20:function(e,t,a){e.exports=a(45)},25:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(17),r=a.n(o),l=(a(25),a(19)),s=a(3),i=a(6),u=a.n(i),m=a(18),f=a(2),d=(a(27),{sports:21,history:23,politics:24}),p=c.a.createContext(),E=function(e){var t,a=e.children,o=Object(n.useState)(!0),r=Object(f.a)(o,2),l=r[0],i=r[1],E=Object(n.useState)(!1),b=Object(f.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)({amount:10,category:"sports",difficulty:"easy"}),y=Object(f.a)(v,2),O=y[0],j=y[1],N=Object(n.useState)([]),q=Object(f.a)(N,2),w=q[0],x=q[1],k=Object(n.useState)(0),S=Object(f.a)(k,2),z=S[0],C=S[1],M=Object(n.useState)(0),Q=Object(f.a)(M,2),F=Q[0],A=Q[1],J=Object(n.useState)(!1),_=Object(f.a)(J,2),B=_[0],D=_[1],I=Object(n.useState)(!1),L=Object(f.a)(I,2),P=L[0],Y=L[1],G=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),i(!1),e.prev=2,e.next=5,fetch(t);case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,console.log(n.results),n.results.length>0?(x(n.results),i(!1),h(!1),D(!1)):(i(!0),D(!0)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),D(!0),i(!0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){Y(!0)},K=function(){C((function(e){var t=e+1;if(!(t>w.length-1))return t;H()}))},R=function(e){e&&A((function(e){return e+1})),K()};return c.a.createElement(p.Provider,{value:(t={loading:g,setLoading:h,quiz:O,setQuiz:j,isModalOpen:P,correct:F,index:z,error:B,setError:D,questions:w,setQuestions:x,handleStart:function(e){if(e.preventDefault(),console.log("start clicked"),C(0),O.amount<1||O.amount>50||isNaN(O.amount))console.log("error"),D(!0),i(!0);else{console.log("show api");var t=O.amount,a=O.category,n=O.difficulty,c="".concat("https://opentdb.com/api.php?","amount=").concat(t,"&category=").concat(d[a],"&difficulty=").concat(n);G(c)}},checkAnswer:R,openModal:H,closeModal:function(){i(!0),A(0),Y(!1),j({amount:10,category:"sports",difficulty:"easy"})},nextQuestion:K},Object(s.a)(t,"checkAnswer",R),Object(s.a)(t,"waiting",l),t)},a)},b=function(){return Object(n.useContext)(p)},g=a(7),h=function(){var e=b(),t=e.quiz,a=e.setQuiz,n=e.error,o=e.handleStart,r=function(e){var n=e.target.name,c=e.target.value;a(Object(g.a)(Object(g.a)({},t),{},Object(s.a)({},n,c)))};return c.a.createElement("main",null,c.a.createElement("section",{className:"quiz quiz-small"},c.a.createElement("form",{className:"setup-form"},c.a.createElement("h2",null,"setup quiz"),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"amount"},"number of questions"),c.a.createElement("input",{type:"number",name:"amount",id:"amount",className:"form-input",min:1,max:50,value:t.amount,onChange:r})),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"category"},"category"),c.a.createElement("select",{name:"category",id:"category",className:"form-input",value:t.category,onChange:r},c.a.createElement("option",{value:"sports"},"sports"),c.a.createElement("option",{value:"history"},"history"),c.a.createElement("option",{value:"politics"},"politics"))),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"difficulty"},"select difficulty"),c.a.createElement("select",{name:"difficulty",id:"difficulty",className:"form-input",value:t.difficulty,onChange:r},c.a.createElement("option",{value:"easy"},"easy"),c.a.createElement("option",{value:"medium"},"medium"),c.a.createElement("option",{value:"hard"},"hard"))),n&&c.a.createElement("p",{className:"error"},"can't generate questions, please try different options"),c.a.createElement("button",{type:"submit",className:"submit-btn",onClick:o},"start"))))},v=function(){return c.a.createElement("main",null,c.a.createElement("div",{className:"loading"}))},y=function(){var e=b(),t=e.isModalOpen,a=e.correct,n=e.questions,o=e.closeModal;console.log(a),console.log(n.length);return c.a.createElement("div",{className:"".concat(t?"modal-container isOpen":"modal-container")},c.a.createElement("div",{className:"modal-content"},c.a.createElement("h2",null,"congrats!"),c.a.createElement("p",null,"You answered ",(a/n.length*100).toFixed(0),"% of questions correctly"),c.a.createElement("button",{className:"close-btn",onClick:o},"play again")))};var O=function(){var e=b(),t=e.quiz,a=e.waiting,n=e.loading,o=e.index,r=e.questions,s=e.correct,i=e.checkAnswer,u=e.nextQuestion;if(console.log(t.amount),console.log(o),console.log(r.length),n)return c.a.createElement(v,null);if(a)return c.a.createElement(h,null);var m=r[o]||[],f=m.question,d=m.incorrect_answers,p=m.correct_answer;console.log(d);var E=Object.values(d||[]),g=Object(l.a)(E),O=p,j=Math.floor(4*Math.random());return 3===j?g.push(O):(g.push(g[j]),g[j]=O),"undefined"===typeof o?(console.log("modal"),c.a.createElement(y,null)):c.a.createElement("main",null,c.a.createElement("section",{className:"quiz"},c.a.createElement("p",{className:"correct-answers"},"correct answer : ",s,"/",o," "),c.a.createElement("article",{className:"container",key:o},c.a.createElement("h2",null,f),c.a.createElement("div",{className:"btn-container"},g.map((function(e,t){return c.a.createElement("button",{className:"answer-btn",key:t,onClick:function(){return i(O===e)}},e)})))),c.a.createElement("button",{className:"next-question",onClick:u},"next question")))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null,c.a.createElement(O,null))),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d2ef7dd1.chunk.js.map